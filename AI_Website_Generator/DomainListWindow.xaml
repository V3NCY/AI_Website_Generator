<Window x:Class="AI_Website_Generator.DomainListWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Регистрирани домейни"
        Height="600"
        Width="900"
        Background="#ECF0F1"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized">

    <Window.Resources>


        <DropShadowEffect x:Key="ShadowEffect" BlurRadius="12" ShadowDepth="3" Opacity="0.18"/>

        <!-- cards -->
        <Style x:Key="Card" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="14"/>
            <Setter Property="Padding" Value="18"/>
            <Setter Property="BorderBrush" Value="#E6ECEF"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Effect" Value="{StaticResource ShadowEffect}"/>
        </Style>

        <!-- text -->
        <Style x:Key="HeaderTitle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#2C3E50"/>
        </Style>

        <Style x:Key="HeaderSubTitle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Foreground" Value="#5D6D7E"/>
            <Setter Property="Margin" Value="0,6,0,0"/>
        </Style>

        <!-- inputs -->
        <Style x:Key="SearchBox" TargetType="TextBox">
            <Setter Property="Height" Value="38"/>
            <Setter Property="Padding" Value="10,7"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Background" Value="#F7F9F9"/>
            <Setter Property="BorderBrush" Value="#D5DEE3"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>

        <!-- buttons -->
        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Height" Value="40"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="#0B5394"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Padding" Value="14,0"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="10"
                                SnapsToDevicePixels="True">
                            <ContentPresenter Margin="{TemplateBinding Padding}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#073763"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#062B4F"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="Background" Value="#3498DB"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#2E86C1"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#21618C"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="GhostButton" TargetType="Button">
            <Setter Property="Height" Value="40"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#2C3E50"/>
            <Setter Property="Background" Value="#ECF0F1"/>
            <Setter Property="BorderBrush" Value="#D5DEE3"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Padding" Value="14,0"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="10"
                                SnapsToDevicePixels="True">
                            <ContentPresenter Margin="{TemplateBinding Padding}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#E6ECEF"/>
                </Trigger>
            </Style.Triggers>
        </Style>

       
        <Style TargetType="{x:Type ListView}">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#E6ECEF"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="6"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#2C3E50"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
        </Style>

        <Style TargetType="{x:Type GridViewColumnHeader}">
            <Setter Property="Background" Value="#F7FAFC"/>
            <Setter Property="Foreground" Value="#2C3E50"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="BorderBrush" Value="#E6ECEF"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
        </Style>

        <Style TargetType="{x:Type ListViewItem}">
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListViewItem">
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="#EEF2F5"
                                BorderThickness="0,0,0,1"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#EAF6FF"/>
                                <Setter Property="Foreground" Value="#0B4A74"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#F7FAFC"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <Grid Margin="20">

        <Border Style="{StaticResource Card}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

   
                <Grid Grid.Row="0" Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0">
                        <TextBlock Text="🌐 Регистрирани уебсайтове" Style="{StaticResource HeaderTitle}"/>
                        <TextBlock Text="Преглед, търсене и бързо обновяване на списъка с домейни."
                                   Style="{StaticResource HeaderSubTitle}"/>
                    </StackPanel>

                    <Button Grid.Column="1"
                            Content="✖"
                            Width="40"
                            Height="40"
                            FontSize="14"
                            FontWeight="Bold"
                            Background="#ECF0F1"
                            BorderBrush="#D5DEE3"
                            BorderThickness="1"
                            Foreground="#2C3E50"
                            Cursor="Hand"
                            Margin="10,0,0,0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"/>
                </Grid>

           
                <Grid Grid.Row="1" Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBox Grid.Column="0"
                             Style="{StaticResource SearchBox}"
                             Name="txtSearch"
                             Text=""
                             ToolTip="Търси по обект, домейн, град, имейл..."/>

                    <Button Grid.Column="2"
                            Content="🔄 Обнови"
                            Click="RefreshDomains_Click"
                            Style="{StaticResource SecondaryButton}"
                            MinWidth="140"/>

                    <Button Grid.Column="4"
                            Content="➕ Добави нов"
                            Style="{StaticResource PrimaryButton}"
                            MinWidth="140"/>
                </Grid>

                <!-- list -->
                <ListView Grid.Row="2" Name="DomainsList">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Обект" Width="180" DisplayMemberBinding="{Binding Owner}"/>
                            <GridViewColumn Header="Населено място" Width="140" DisplayMemberBinding="{Binding City}"/>
                            <GridViewColumn Header="Код НЕИСПУО" Width="120" DisplayMemberBinding="{Binding Code}"/>
                            <GridViewColumn Header="МОЛ" Width="180" DisplayMemberBinding="{Binding Mol}"/>
                            <GridViewColumn Header="Телефон" Width="130" DisplayMemberBinding="{Binding Phone}"/>
                            <GridViewColumn Header="Имейл" Width="220" DisplayMemberBinding="{Binding OwnerEmail}"/>
                            <GridViewColumn Header="Пакет" Width="110" DisplayMemberBinding="{Binding Package}"/>
                            <GridViewColumn Header="Нов домейн" Width="220" DisplayMemberBinding="{Binding NewDomainName}"/>
                            <GridViewColumn Header="Стар домейн" Width="220" DisplayMemberBinding="{Binding OldDomainName}"/>
                            <GridViewColumn Header="Admin потребител" Width="170" DisplayMemberBinding="{Binding AdminUsername}"/>
                            <GridViewColumn Header="Admin парола" Width="160" DisplayMemberBinding="{Binding AdminPassword}"/>
                            <GridViewColumn Header="Тестов домейн дата" Width="150" DisplayMemberBinding="{Binding RegTestDomainDate}"/>
                            <GridViewColumn Header="Официален домейн дата" Width="170" DisplayMemberBinding="{Binding RegOfficialDomainDate}"/>
                            <GridViewColumn Header="Хостинг (договор)" Width="150" DisplayMemberBinding="{Binding Hosting}"/>
                            <GridViewColumn Header="Поел от екипа" Width="150" DisplayMemberBinding="{Binding RequestTeamMember}"/>
                        </GridView>
                    </ListView.View>
                </ListView>

                
                <Grid Grid.Row="3" Margin="0,12,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0"
                               Text="ℹ️ Съвет: Скролирайте хоризонтално за всички колони. Може да разширявате колоните от хедъра."
                               Foreground="#5D6D7E"
                               FontSize="12"
                               VerticalAlignment="Center"/>

                    <Button Grid.Column="1"
                            Content="Затвори"
                            Style="{StaticResource GhostButton}"
                            Width="140"
                            Margin="10,0,0,0"/>
                </Grid>

            </Grid>
        </Border>

    </Grid>
</Window>
